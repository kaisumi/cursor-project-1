# マイルストーン2: コア機能の実装
期間: 2024-05-14 ~ 2024-05-16

## 🎯 目標
- 基本的なSNS機能の実装（投稿、いいね、フォロー）
- UI/UXの基本実装
- パフォーマンスの最適化

## 📋 タスク一覧

### 1. 投稿機能の実装 [POST-001]
- [x] 投稿モデルの作成
    ```ruby
    # 実装済み
    create_table :posts do |t|
      t.references :user, null: false
      t.string :title, null: false
      t.text :content, null: false
      t.timestamps
    end
    ```
- [x] 投稿のCRUD機能
    - [x] 投稿の作成
    - [x] 投稿の一覧表示
    - [x] 投稿の詳細表示
    - [ ] 投稿の編集（実装中）
    - [ ] 投稿の削除（実装中）
- [ ] 投稿のバリデーション
    - [ ] 文字数制限
      - タイトル: 最大100文字
      - 本文: 最大10,000文字
    - [ ] コンテンツの検証
      - 必須項目: タイトル、本文
      - 禁止文字: スクリプトタグ
      - 画像: 最大5MB、形式: jpg/png/gif

### 2. フォロー機能の実装 [FOLLOW-001]
- [x] フォロー関係のモデル作成
    ```ruby
    # 実装済み
    create_table :relationships do |t|
      t.references :follower, null: false
      t.references :followed, null: false
      t.timestamps
    end
    ```
- [ ] フォロー/アンフォロー機能
    - [ ] フォロー関係の管理（実装中）
    - [ ] フォロー数の制限（実装予定）
- [ ] フォロワー/フォロー中の一覧表示（実装予定）

### 3. いいね機能の実装 [LIKE-001]
- [x] いいねモデルの作成
    ```ruby
    # 実装済み
    create_table :likes do |t|
      t.references :user, null: false
      t.references :post, null: false
      t.timestamps
    end
    ```
- [x] いいね機能の基本実装
    - [x] いいねの追加/削除
    - [x] いいね数の表示
    - [ ] いいねのアニメーション（実装中）
- [x] いいねのバリデーション
    - [x] ユーザーと投稿の組み合わせの一意性

### 4. UI/UXの基本実装 [UI-001]
- [ ] レイアウトの作成
    - [ ] ヘッダー/フッター
      - ヘッダー: ロゴ、ナビゲーション、ユーザーメニュー
      - フッター: コピーライト、リンク一覧
    - [ ] ナビゲーション
      - グローバルナビ: ホーム、投稿一覧、新規投稿
      - ユーザーメニュー: プロフィール、設定、ログアウト
    - [ ] レスポンシブ対応
      - ブレークポイント: 768px, 1024px
      - モバイルファースト対応
      - ハンバーガーメニュー（モバイル用）
- [ ] コンポーネントの実装
    - [x] 投稿フォーム
    - [x] 投稿カード
    - [x] ユーザーカード
- [ ] 基本的なアニメーション
    - [ ] いいねのアニメーション
    - [ ] ページ遷移のアニメーション

### 5. パフォーマンス最適化 [PERF-001]
- [ ] キャッシュの実装
    - [ ] ページキャッシュ
    - [ ] フラグメントキャッシュ
    - [ ] ロシアンドールキャッシュ
- [ ] N+1問題の解消
    - [ ] 適切なincludesの使用
    - [ ] カウンターキャッシュの実装
    - [ ] バルクインサート/アップデートの活用
- [ ] インデックスの最適化
    - [ ] 必要なインデックスの追加
    - [ ] 複合インデックスの検討
    - [ ] インデックスの効果測定

## 📊 進捗管理
- タスクの完了状況
  - ✅ 投稿モデルの作成 [POST-001]
  - ✅ 投稿のCRUD機能（閲覧・作成）
  - ✅ フォロー関係のモデル作成 [FOLLOW-001]
  - ✅ いいねモデルの作成 [LIKE-001]
  - ✅ いいね機能の基本実装
  - ✅ 基本的なUIコンポーネント
  - ⏳ 投稿のCRUD機能（編集・削除）[実装中]
  - ⏳ フォロー機能の実装 [実装中]
  - ⏳ UI/UXの改善 [実装中]
  - ⚪ パフォーマンス最適化 [未着手]

## 🔍 レビューポイント
- 機能の完全性
  - モデルの設計
  - バリデーション
  - エラーハンドリング
  - 機能間の整合性
- パフォーマンス要件の充足
  - データベースのパフォーマンス
  - アプリケーションのレスポンス
  - キャッシュの効果
  - クエリの最適化
- UI/UXの品質
  - レスポンシブ対応
  - アクセシビリティ
  - インタラクションの一貫性
- エラーハンドリングの適切性
  - バリデーションエラーの適切な表示
  - エラーメッセージの国際化対応
  - 例外処理の網羅性
  - ログ出力の適切性
  - エラー状態からの回復手段
  - セキュリティ関連のエラー処理

## 🔄 依存関係
- ✅ マイルストーン1（プロジェクト設定）完了
- マイルストーン3（高度な機能）の基盤となる
- マイルストーン4（UI/UX）の基盤となる
- マイルストーン5（分析・モニタリング）の基盤となる

## 🛠 技術スタック
- バックエンド: Ruby on Rails
- フロントエンド: JavaScript
- データベース: PostgreSQL
- テスト: RSpec, Capybara 