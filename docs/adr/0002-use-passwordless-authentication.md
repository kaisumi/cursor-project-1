# ADR 0002: パスワードレス認証の採用

## ステータス
承認

## コンテキスト
SNSアプリケーションの認証方式を選択する必要があります。以下の要件を満たす必要があります：
- セキュリティの確保
- ユーザビリティの向上
- 実装の容易さ
- メンテナンス性
- 将来的な拡張性

## 決定
パスワードレス認証（メールリンク認証）を採用します。

具体的な実装方針：
1. メールリンクによる認証
   - ワンタイムトークンの使用
   - 有効期限の設定
   - セキュアなトークン生成

2. セッション管理
   - JWTトークンの使用
   - リフレッシュトークンの実装
   - セキュアなクッキー設定

3. セキュリティ対策
   - レート制限の実装
   - IPアドレスベースの制限
   - 不正アクセス検知

## 結果
メリット：
- パスワード管理の負担がない
- セキュリティリスクの低減
- 実装が比較的容易
- ユーザー体験の向上

デメリット：
- メールサーバーの依存
- メールの遅延の可能性
- メールアドレスの変更時の対応が必要

## 代替案
1. 従来のパスワード認証
   - メリット：
     - 実装が簡単
     - ユーザーに馴染みがある
   - デメリット：
     - セキュリティリスクが高い
     - パスワード管理の負担
     - パスワードリセット機能の必要性

2. OAuth認証
   - メリット：
     - 実装が容易
     - 信頼性が高い
     - ユーザー情報の取得が容易
   - デメリット：
     - 外部サービスへの依存
     - プライバシーの懸念
     - カスタマイズの制限

3. 生体認証
   - メリット：
     - 高いセキュリティ
     - 優れたユーザー体験
   - デメリット：
     - 実装が複雑
     - デバイス依存
     - コストが高い 